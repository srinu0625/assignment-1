 # Extracting current and previous values for high and low from data1
                        current_time1 = row1[time_column_name]
                        high1 = float(row1[high_column_name])
                        low1 = float(row1[low_column_name])
                        if (high1 > current_high1) or(low1 < current_low1):
                            previous_high1 = current_high1
                            previous_low1 = current_low1
                            current_high1 = high1
                            current_low1 = low1

                        # Extracting current and previous values for high and low from data2
                        current_time2 = (data2.at[index2 - 1, time_column_name])
                        high2 = float(row1[high_column_name])
                        low2 = float(row1[low_column_name])
                        if (high2 > current_high2) or(low2 < current_low2):
                            previous_high2 = current_high2
                            previous_low2 = current_low2
                            current_high2 = high2
                            current_low2 = low2



                            # Inside your trading loop after the trade entry
highest_point = entry_price  # For long trades
lowest_point = entry_price   # For short trades

# During the trade, track the highest or lowest point
if bull:  # Long trade
    highest_point = max(highest_point, current_high1)

    # Update exit condition to check against the highest point
    if current_low1 < highest_point - (tick_val * 10):  # Adjust tick_val * 10 to your risk tolerance
        exit_price = current_low1
        # Exit the trade with updated logic

if bear:  # Short trade
    lowest_point = min(lowest_point, current_low1)

    # Update exit condition to check against the lowest point
    if current_high1 > lowest_point + (tick_val * 10):  # Adjust tick_val * 10 to your risk tolerance
        exit_price = current_high1
        # Exit the trade with updated logic





 print("1,c,MESU4,",current_high1,current_low1,prev_high1,prev_low1,temp_high1,temp_low1,local_high1,local_low1,prev_local_high1,prev_local_low1)
 print("1,c,MESU4," + str(current_high1) + "," + str(current_low1) + "," + str(previous_high1) + "," + str(previous_low1) + "," + str(temp_high1) + "," + str(temp_low1) + "," + str(local_high1) + "," + str(local_low1) + "," + str(prev_local_high1) + "," + str(prev_local_low1))
           